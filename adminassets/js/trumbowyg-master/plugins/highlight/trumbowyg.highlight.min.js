(function($,Prism){"use strict";var defaultOptions={};function highlightIt(text,language,lineHighlight){return['<pre class="language-'+language+'" '+(lineHighlight?'data-line="'+lineHighlight+'"':"")+">",'<code class="language-'+language+'">'+Prism.highlight(text,Prism.languages[language])+"</code>","</pre>"].join("")}function buildButtonDef(trumbowyg){return{fn:function(){var $modal=trumbowyg.openModal("Code",['<div class="'+trumbowyg.o.prefix+'highlight-form-group">','   <select class="'+trumbowyg.o.prefix+'highlight-form-control language">',function(){var options="";for(var lang in Prism.languages){if(Prism.languages.hasOwnProperty(lang)){options+='<option value="'+lang+'">'+lang+"</option>"}}return options}(),"   </select>","</div>",'<div class="'+trumbowyg.o.prefix+'highlight-form-group">','   <textarea class="'+trumbowyg.o.prefix+'highlight-form-control code"></textarea>',"</div>",'<div class="'+trumbowyg.o.prefix+'highlight-form-group">','   <input title="'+trumbowyg.lang.prismHighlightPluginAlert+'" placeholder="'+trumbowyg.lang.highlightLine+'" class="'+trumbowyg.o.prefix+'highlight-form-control trumbowyg-line-highlight"/>',"</div>"].join("\n")),$language=$modal.find(".language"),$code=$modal.find(".code"),$lineHighlight=$modal.find(".trumbowyg-line-highlight");$modal.on("tbwconfirm",function(){trumbowyg.restoreRange();trumbowyg.execCmd("insertHTML",highlightIt($code.val(),$language.val(),$lineHighlight.val()));trumbowyg.execCmd("insertHTML","<p><br></p>");trumbowyg.closeModal()});$modal.on("tbwcancel",function(){trumbowyg.closeModal()})}}}$.extend(true,$.trumbowyg,{langs:{en:{highlight:"Code syntax highlight",highlightLine:"Highlight lines, e.g.: 1,3-5",prismHighlightPluginAlert:"You must have Prism Line Highlight plugin installed"},es:{highlight:"Resaltado de sintaxis de código",highlightLine:"Resaltar lineas, ej: 1,3-5",prismHighlightPluginAlert:"Debes de tener el plugin Prism Line Highlight instalado"},hu:{highlight:"Kód kiemelés"},ko:{highlight:"코드 문법 하이라이트"},pt_br:{highlight:"Realçar sintaxe de código"}},plugins:{highlight:{init:function(trumbowyg){trumbowyg.o.plugins.highlight=$.extend(true,{},defaultOptions,trumbowyg.o.plugins.highlight||{});trumbowyg.addBtnDef("highlight",buildButtonDef(trumbowyg))}}}})})(jQuery,Prism);